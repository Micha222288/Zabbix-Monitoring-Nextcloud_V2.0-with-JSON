<?xml version="1.0" encoding="UTF-8"?>
<zabbix_export>
    <version>5.0</version>
    <date>2021-08-03T22:18:42Z</date>
    <groups>
        <group>
            <name>Templates</name>
        </group>
    </groups>
    <templates>
        <template>
            <template>Nextcloud</template>
            <name>Nextcloud</name>
            <description>This Template will get the monitoring data from the nextcloud xml monitoring.</description>
            <groups>
                <group>
                    <name>Templates</name>
                </group>
            </groups>
            <applications>
                <application>
                    <name>Nextcloud-V2</name>
                </application>
            </applications>
            <items>
                <item>
                    <name>Active Users (LAST 1 hours)</name>
                    <type>DEPENDENT</type>
                    <key>data.activeUsers.last1hours</key>
                    <delay>0</delay>
                    <value_type>FLOAT</value_type>
                    <applications>
                        <application>
                            <name>Nextcloud-V2</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <params>$['ocs'].data.activeUsers.last1hour</params>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>nextcloud</key>
                    </master_item>
                </item>
                <item>
                    <name>Active Users (LAST 5 min)</name>
                    <type>DEPENDENT</type>
                    <key>data.activeUsers.last5minutes</key>
                    <delay>0</delay>
                    <value_type>FLOAT</value_type>
                    <applications>
                        <application>
                            <name>Nextcloud-V2</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <params>$['ocs'].data.activeUsers.last5minutes</params>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>nextcloud</key>
                    </master_item>
                </item>
                <item>
                    <name>Active Users (LAST 24 hours)</name>
                    <type>DEPENDENT</type>
                    <key>data.activeUsers.last24hours</key>
                    <delay>0</delay>
                    <value_type>FLOAT</value_type>
                    <applications>
                        <application>
                            <name>Nextcloud-V2</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <params>$['ocs'].data.activeUsers.last24hours</params>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>nextcloud</key>
                    </master_item>
                </item>
                <item>
                    <name>Federated Shares received</name>
                    <type>DEPENDENT</type>
                    <key>data.nextcloud.shares.num_fed_shares_received</key>
                    <delay>0</delay>
                    <value_type>FLOAT</value_type>
                    <applications>
                        <application>
                            <name>Nextcloud-V2</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <params>$['ocs'].data.nextcloud.shares.num_fed_shares_received</params>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>nextcloud</key>
                    </master_item>
                    <triggers>
                        <trigger>
                            <expression>{last()}&gt;0</expression>
                            <name>Federated request received</name>
                            <priority>INFO</priority>
                            <manual_close>YES</manual_close>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <name>Shares via MAIL</name>
                    <type>DEPENDENT</type>
                    <key>data.nextcloud.shares.num_shares_mail</key>
                    <delay>0</delay>
                    <value_type>FLOAT</value_type>
                    <applications>
                        <application>
                            <name>Nextcloud-V2</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <params>$['ocs'].data.nextcloud.shares.num_shares_mail</params>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>nextcloud</key>
                    </master_item>
                </item>
                <item>
                    <name>Shares via ROOM</name>
                    <type>DEPENDENT</type>
                    <key>data.nextcloud.shares.num_shares_room</key>
                    <delay>0</delay>
                    <value_type>FLOAT</value_type>
                    <applications>
                        <application>
                            <name>Nextcloud-V2</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <params>$['ocs'].data.nextcloud.shares.num_shares_room</params>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>nextcloud</key>
                    </master_item>
                </item>
                <item>
                    <name>Number of Storages</name>
                    <type>DEPENDENT</type>
                    <key>data.nextcloud.storage.num_storages</key>
                    <delay>0</delay>
                    <value_type>FLOAT</value_type>
                    <applications>
                        <application>
                            <name>Nextcloud-V2</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <params>$['ocs'].data.nextcloud.storage.num_storages</params>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>nextcloud</key>
                    </master_item>
                </item>
                <item>
                    <name>Number of Storages (HOME)</name>
                    <type>DEPENDENT</type>
                    <key>data.nextcloud.storage.num_storages_home</key>
                    <delay>0</delay>
                    <value_type>FLOAT</value_type>
                    <applications>
                        <application>
                            <name>Nextcloud-V2</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <params>$['ocs'].data.nextcloud.storage.num_storages_home</params>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>nextcloud</key>
                    </master_item>
                </item>
                <item>
                    <name>Number of Storages (LOCAL)</name>
                    <type>DEPENDENT</type>
                    <key>data.nextcloud.storage.num_storages_local</key>
                    <delay>0</delay>
                    <value_type>FLOAT</value_type>
                    <applications>
                        <application>
                            <name>Nextcloud-V2</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <params>$['ocs'].data.nextcloud.storage.num_storages_local</params>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>nextcloud</key>
                    </master_item>
                </item>
                <item>
                    <name>Number of Storages (OTHERS)</name>
                    <type>DEPENDENT</type>
                    <key>data.nextcloud.storage.num_storages_other</key>
                    <delay>0</delay>
                    <value_type>FLOAT</value_type>
                    <applications>
                        <application>
                            <name>Nextcloud-V2</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <params>$['ocs'].data.nextcloud.storage.num_storages_other</params>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>nextcloud</key>
                    </master_item>
                </item>
                <item>
                    <name>Number of Users (TOTAL)</name>
                    <type>DEPENDENT</type>
                    <key>data.nextcloud.storage.num_users</key>
                    <delay>0</delay>
                    <value_type>FLOAT</value_type>
                    <applications>
                        <application>
                            <name>Nextcloud-V2</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <params>$['ocs'].data.nextcloud.storage.num_users</params>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>nextcloud</key>
                    </master_item>
                </item>
                <item>
                    <name>Number of App Updates</name>
                    <type>DEPENDENT</type>
                    <key>data.nextcloud.system.apps.app_updates</key>
                    <delay>0</delay>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <applications>
                        <application>
                            <name>Nextcloud-V2</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <params>$['ocs'].data.nextcloud.system.apps.app_updates</params>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>nextcloud</key>
                    </master_item>
                </item>
                <item>
                    <name>Number of Apps installed</name>
                    <type>DEPENDENT</type>
                    <key>data.nextcloud.system.apps.num_installed</key>
                    <delay>0</delay>
                    <value_type>FLOAT</value_type>
                    <applications>
                        <application>
                            <name>Nextcloud-V2</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <params>$['ocs'].data.nextcloud.system.apps.num_installed</params>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>nextcloud</key>
                    </master_item>
                </item>
                <item>
                    <name>Number of App Updates available</name>
                    <type>DEPENDENT</type>
                    <key>data.nextcloud.system.apps.num_updates_available</key>
                    <delay>0</delay>
                    <value_type>FLOAT</value_type>
                    <applications>
                        <application>
                            <name>Nextcloud-V2</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <params>$['ocs'].data.nextcloud.system.apps.num_updates_available</params>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>nextcloud</key>
                    </master_item>
                    <triggers>
                        <trigger>
                            <expression>{last()}&gt;0</expression>
                            <name>Nextcloud Application Update available</name>
                            <priority>WARNING</priority>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <name>CPU Load</name>
                    <type>DEPENDENT</type>
                    <key>data.nextcloud.system.cpuload</key>
                    <delay>0</delay>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <applications>
                        <application>
                            <name>Nextcloud-V2</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <params>$['ocs'].data.nextcloud.system.cpuload</params>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>nextcloud</key>
                    </master_item>
                </item>
                <item>
                    <name>Debug Mode</name>
                    <type>DEPENDENT</type>
                    <key>data.nextcloud.system.debug</key>
                    <delay>0</delay>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <applications>
                        <application>
                            <name>Nextcloud-V2</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <params>$['ocs'].data.nextcloud.system.debug</params>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>nextcloud</key>
                    </master_item>
                    <triggers>
                        <trigger>
                            <expression>{last()}=&quot;yes&quot;</expression>
                            <name>Debug Mode activ</name>
                            <manual_close>YES</manual_close>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <name>Nextcloud Enabled Avatars</name>
                    <type>DEPENDENT</type>
                    <key>data.nextcloud.system.enable_avatars</key>
                    <delay>0</delay>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <applications>
                        <application>
                            <name>Nextcloud-V2</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <params>$['ocs'].data.nextcloud.system.enable_avatars</params>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>nextcloud</key>
                    </master_item>
                </item>
                <item>
                    <name>Nextcloud Enabled Previews</name>
                    <type>DEPENDENT</type>
                    <key>data.nextcloud.system.enable_previews</key>
                    <delay>0</delay>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <applications>
                        <application>
                            <name>Nextcloud-V2</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <params>$['ocs'].data.nextcloud.system.enable_previews</params>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>nextcloud</key>
                    </master_item>
                </item>
                <item>
                    <name>Z_NOT WORKING Filelocking Enabled</name>
                    <type>DEPENDENT</type>
                    <key>data.nextcloud.system.filelocking.enabled</key>
                    <delay>0</delay>
                    <trends>0</trends>
                    <status>DISABLED</status>
                    <value_type>TEXT</value_type>
                    <applications>
                        <application>
                            <name>Nextcloud-V2</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <params>$['ocs'].data.nextcloud.system.filelocking.enabled</params>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>nextcloud</key>
                    </master_item>
                </item>
                <item>
                    <name>Free Disk Space</name>
                    <type>DEPENDENT</type>
                    <key>data.nextcloud.system.freespace</key>
                    <delay>0</delay>
                    <value_type>FLOAT</value_type>
                    <units>B</units>
                    <applications>
                        <application>
                            <name>Nextcloud-V2</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <params>$['ocs'].data.nextcloud.system.freespace</params>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>nextcloud</key>
                    </master_item>
                    <triggers>
                        <trigger>
                            <expression>{min(5m)}&lt;1G</expression>
                            <name>Disk almost full</name>
                            <priority>DISASTER</priority>
                        </trigger>
                        <trigger>
                            <expression>{min(5m)}&lt;10G</expression>
                            <name>Disk Space low</name>
                            <priority>AVERAGE</priority>
                        </trigger>
                        <trigger>
                            <expression>{last()}&lt;5G</expression>
                            <name>Disk Space very low</name>
                            <priority>HIGH</priority>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <name>Z_NOT WORKING MEM Cache distributed</name>
                    <type>DEPENDENT</type>
                    <key>data.nextcloud.system.memcache.distributed</key>
                    <delay>0</delay>
                    <trends>0</trends>
                    <status>DISABLED</status>
                    <value_type>TEXT</value_type>
                    <applications>
                        <application>
                            <name>Nextcloud-V2</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <params>$['ocs'].data.nextcloud.system.memcache</params>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>nextcloud</key>
                    </master_item>
                </item>
                <item>
                    <name>Z_NOT WORKING MEM Cache local</name>
                    <type>DEPENDENT</type>
                    <key>data.nextcloud.system.memcache.local</key>
                    <delay>0</delay>
                    <trends>0</trends>
                    <status>DISABLED</status>
                    <value_type>TEXT</value_type>
                    <applications>
                        <application>
                            <name>Nextcloud-V2</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <params>$['ocs'].data.nextcloud.system.memcache.local</params>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>nextcloud</key>
                    </master_item>
                </item>
                <item>
                    <name>Z_NOT WORKING MEM Cache locking</name>
                    <type>DEPENDENT</type>
                    <key>data.nextcloud.system.memcache.locking</key>
                    <delay>0</delay>
                    <trends>0</trends>
                    <status>DISABLED</status>
                    <value_type>TEXT</value_type>
                    <applications>
                        <application>
                            <name>Nextcloud-V2</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <params>$['ocs'].data.nextcloud.system.memcache.locking</params>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>nextcloud</key>
                    </master_item>
                </item>
                <item>
                    <name>Free SWAP</name>
                    <type>DEPENDENT</type>
                    <key>data.nextcloud.system.swap_free</key>
                    <delay>0</delay>
                    <value_type>FLOAT</value_type>
                    <units>B</units>
                    <applications>
                        <application>
                            <name>Nextcloud-V2</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <params>$['ocs'].data.nextcloud.system.swap_free</params>
                        </step>
                        <step>
                            <type>MULTIPLIER</type>
                            <params>1024</params>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>nextcloud</key>
                    </master_item>
                    <triggers>
                        <trigger>
                            <expression>{min(5m)}&lt;1G</expression>
                            <name>Free SWAP is lower 1 GBytes</name>
                            <priority>WARNING</priority>
                        </trigger>
                        <trigger>
                            <expression>{min(5m)}&lt;100M</expression>
                            <name>Free SWAP is lower 100 MBytes</name>
                            <priority>AVERAGE</priority>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <name>Total SWAP</name>
                    <type>DEPENDENT</type>
                    <key>data.nextcloud.system.swap_total</key>
                    <delay>0</delay>
                    <value_type>FLOAT</value_type>
                    <units>B</units>
                    <applications>
                        <application>
                            <name>Nextcloud-V2</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <params>$['ocs'].data.nextcloud.system.swap_total</params>
                        </step>
                        <step>
                            <type>MULTIPLIER</type>
                            <params>1024</params>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>nextcloud</key>
                    </master_item>
                </item>
                <item>
                    <name>Database Size</name>
                    <type>DEPENDENT</type>
                    <key>data.server.database.size</key>
                    <delay>0</delay>
                    <value_type>FLOAT</value_type>
                    <units>Bytes</units>
                    <applications>
                        <application>
                            <name>Nextcloud-V2</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <params>$['ocs'].data.server.database.size</params>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>nextcloud</key>
                    </master_item>
                </item>
                <item>
                    <name>Database Type</name>
                    <type>DEPENDENT</type>
                    <key>data.server.database.type</key>
                    <delay>0</delay>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <applications>
                        <application>
                            <name>Nextcloud-V2</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <params>$['ocs'].data.server.database.type</params>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>nextcloud</key>
                    </master_item>
                </item>
                <item>
                    <name>Database Version</name>
                    <type>DEPENDENT</type>
                    <key>data.server.database.version</key>
                    <delay>0</delay>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <applications>
                        <application>
                            <name>Nextcloud-V2</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <params>$['ocs'].data.server.database.version</params>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>nextcloud</key>
                    </master_item>
                    <triggers>
                        <trigger>
                            <expression>{diff()}=1</expression>
                            <name>Database Version changed</name>
                            <priority>INFO</priority>
                            <manual_close>YES</manual_close>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <name>APCu Memory Type</name>
                    <type>DEPENDENT</type>
                    <key>data.server.php.apcu.cache.memory_type</key>
                    <delay>0</delay>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <applications>
                        <application>
                            <name>Nextcloud-V2</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <params>$['ocs'].data.server.php.apcu.cache.memory_type</params>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>nextcloud</key>
                    </master_item>
                </item>
                <item>
                    <name>APCu TTL</name>
                    <type>DEPENDENT</type>
                    <key>data.server.php.apcu.cache.ttl</key>
                    <delay>0</delay>
                    <value_type>FLOAT</value_type>
                    <applications>
                        <application>
                            <name>Nextcloud-V2</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <params>$['ocs'].data.server.php.apcu.cache.ttl</params>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>nextcloud</key>
                    </master_item>
                </item>
                <item>
                    <name>APCu available Memory</name>
                    <type>DEPENDENT</type>
                    <key>data.server.php.apcu.sma.avail_mem</key>
                    <delay>0</delay>
                    <value_type>FLOAT</value_type>
                    <units>Bytes</units>
                    <applications>
                        <application>
                            <name>Nextcloud-V2</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <params>$['ocs'].data.server.php.apcu.sma.avail_mem</params>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>nextcloud</key>
                    </master_item>
                </item>
                <item>
                    <name>PHP max. Execution Time</name>
                    <type>DEPENDENT</type>
                    <key>data.server.php.max_execution_time</key>
                    <delay>0</delay>
                    <value_type>FLOAT</value_type>
                    <applications>
                        <application>
                            <name>Nextcloud-V2</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <params>$['ocs'].data.server.php.max_execution_time</params>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>nextcloud</key>
                    </master_item>
                </item>
                <item>
                    <name>PHP memory Limit</name>
                    <type>DEPENDENT</type>
                    <key>data.server.php.memory_limit</key>
                    <delay>0</delay>
                    <value_type>FLOAT</value_type>
                    <units>Bytes</units>
                    <applications>
                        <application>
                            <name>Nextcloud-V2</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <params>$['ocs'].data.server.php.memory_limit</params>
                        </step>
                        <step>
                            <type>MULTIPLIER</type>
                            <params>0.931</params>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>nextcloud</key>
                    </master_item>
                    <triggers>
                        <trigger>
                            <expression>{last()}&lt;1.5G</expression>
                            <name>PHP Memory Limit &lt; 1.5 GBytes</name>
                            <manual_close>YES</manual_close>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <name>PHP opcache full</name>
                    <type>DEPENDENT</type>
                    <key>data.server.php.opcache.cache_full</key>
                    <delay>0</delay>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <applications>
                        <application>
                            <name>Nextcloud-V2</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <params>$['ocs'].data.server.php.opcache.cache_full</params>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>nextcloud</key>
                    </master_item>
                    <triggers>
                        <trigger>
                            <expression>{last()}=&quot;true&quot;</expression>
                            <name>opcache is full</name>
                            <priority>DISASTER</priority>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <name>PHP opcache interned string buffer size</name>
                    <type>DEPENDENT</type>
                    <key>data.server.php.opcache.interned_strings_usage.buffer_size</key>
                    <delay>0</delay>
                    <value_type>FLOAT</value_type>
                    <units>Bytes</units>
                    <applications>
                        <application>
                            <name>Nextcloud-V2</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <params>$['ocs'].data.server.php.opcache.interned_strings_usage.buffer_size</params>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>nextcloud</key>
                    </master_item>
                </item>
                <item>
                    <name>PHP opcache interned string free memory</name>
                    <type>DEPENDENT</type>
                    <key>data.server.php.opcache.interned_strings_usage.free_memory</key>
                    <delay>0</delay>
                    <value_type>FLOAT</value_type>
                    <units>Bytes</units>
                    <applications>
                        <application>
                            <name>Nextcloud-V2</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <params>$['ocs'].data.server.php.opcache.interned_strings_usage.free_memory</params>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>nextcloud</key>
                    </master_item>
                </item>
                <item>
                    <name>PHP opcache interned string number of strings</name>
                    <type>DEPENDENT</type>
                    <key>data.server.php.opcache.interned_strings_usage.number_of_strings</key>
                    <delay>0</delay>
                    <value_type>FLOAT</value_type>
                    <applications>
                        <application>
                            <name>Nextcloud-V2</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <params>$['ocs'].data.server.php.opcache.interned_strings_usage.number_of_strings</params>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>nextcloud</key>
                    </master_item>
                </item>
                <item>
                    <name>PHP opcache interned string used memory</name>
                    <type>DEPENDENT</type>
                    <key>data.server.php.opcache.interned_strings_usage.used_memory</key>
                    <delay>0</delay>
                    <value_type>FLOAT</value_type>
                    <units>Bytes</units>
                    <applications>
                        <application>
                            <name>Nextcloud-V2</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <params>$['ocs'].data.server.php.opcache.interned_strings_usage.used_memory</params>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>nextcloud</key>
                    </master_item>
                </item>
                <item>
                    <name>PHP opcache wasted percentage</name>
                    <type>DEPENDENT</type>
                    <key>data.server.php.opcache.memory_usage.current_wasted_percentage</key>
                    <delay>0</delay>
                    <value_type>FLOAT</value_type>
                    <units>%</units>
                    <applications>
                        <application>
                            <name>Nextcloud-V2</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <params>$['ocs'].data.server.php.opcache.memory_usage.current_wasted_percentage</params>
                        </step>
                        <step>
                            <type>MULTIPLIER</type>
                            <params>1000</params>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>nextcloud</key>
                    </master_item>
                </item>
                <item>
                    <name>PHP opcache free memory</name>
                    <type>DEPENDENT</type>
                    <key>data.server.php.opcache.memory_usage.free_memory</key>
                    <delay>0</delay>
                    <value_type>FLOAT</value_type>
                    <units>Bytes</units>
                    <applications>
                        <application>
                            <name>Nextcloud-V2</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <params>$['ocs'].data.server.php.opcache.memory_usage.free_memory</params>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>nextcloud</key>
                    </master_item>
                </item>
                <item>
                    <name>PHP opcache used memory</name>
                    <type>DEPENDENT</type>
                    <key>data.server.php.opcache.memory_usage.used_memory</key>
                    <delay>0</delay>
                    <value_type>FLOAT</value_type>
                    <units>Bytes</units>
                    <applications>
                        <application>
                            <name>Nextcloud-V2</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <params>$['ocs'].data.server.php.opcache.memory_usage.used_memory</params>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>nextcloud</key>
                    </master_item>
                </item>
                <item>
                    <name>PHP opcache wasted memory</name>
                    <type>DEPENDENT</type>
                    <key>data.server.php.opcache.memory_usage.wasted_memory</key>
                    <delay>0</delay>
                    <value_type>FLOAT</value_type>
                    <units>Bytes</units>
                    <applications>
                        <application>
                            <name>Nextcloud-V2</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <params>$['ocs'].data.server.php.opcache.memory_usage.wasted_memory</params>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>nextcloud</key>
                    </master_item>
                </item>
                <item>
                    <name>PHP opcache enabled</name>
                    <type>DEPENDENT</type>
                    <key>data.server.php.opcache.opcache_enabled</key>
                    <delay>0</delay>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <applications>
                        <application>
                            <name>Nextcloud-V2</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <params>$['ocs'].data.server.php.opcache.opcache_enabled</params>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>nextcloud</key>
                    </master_item>
                    <triggers>
                        <trigger>
                            <expression>{last()}=&quot;false&quot;</expression>
                            <name>opcache is not enabled</name>
                            <priority>WARNING</priority>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <name>PHP opcache restart in progress</name>
                    <type>DEPENDENT</type>
                    <key>data.server.php.opcache.restart_in_progress</key>
                    <delay>0</delay>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <applications>
                        <application>
                            <name>Nextcloud-V2</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <params>$['ocs'].data.server.php.opcache.restart_in_progress</params>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>nextcloud</key>
                    </master_item>
                    <triggers>
                        <trigger>
                            <expression>{last()}=&quot;true&quot;</expression>
                            <name>PHP Restart in progress</name>
                            <priority>INFO</priority>
                            <manual_close>YES</manual_close>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <name>PHP opcache restart pending</name>
                    <type>DEPENDENT</type>
                    <key>data.server.php.opcache.restart_pending</key>
                    <delay>0</delay>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <applications>
                        <application>
                            <name>Nextcloud-V2</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <params>$['ocs'].data.server.php.opcache.restart_pending</params>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>nextcloud</key>
                    </master_item>
                    <triggers>
                        <trigger>
                            <expression>{last()}=&quot;true&quot;</expression>
                            <name>PHP Restart pending</name>
                            <priority>WARNING</priority>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <name>PHP max. File Size</name>
                    <type>DEPENDENT</type>
                    <key>data.server.php.upload_max_filesize</key>
                    <delay>0</delay>
                    <value_type>FLOAT</value_type>
                    <units>Bytes</units>
                    <applications>
                        <application>
                            <name>Nextcloud-V2</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <params>$['ocs'].data.server.php.upload_max_filesize</params>
                        </step>
                        <step>
                            <type>MULTIPLIER</type>
                            <params>0.931</params>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>nextcloud</key>
                    </master_item>
                    <triggers>
                        <trigger>
                            <expression>{last()}&lt;2G</expression>
                            <name>PHP Maximum Filesize for Upload &lt; 2 GBytes</name>
                            <manual_close>YES</manual_close>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <name>PHP Version</name>
                    <type>DEPENDENT</type>
                    <key>data.server.php.version</key>
                    <delay>0</delay>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <applications>
                        <application>
                            <name>Nextcloud-V2</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <params>$['ocs'].data.server.php.version</params>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>nextcloud</key>
                    </master_item>
                    <triggers>
                        <trigger>
                            <expression>{diff()}=1</expression>
                            <name>PHP Version changed</name>
                            <priority>INFO</priority>
                            <manual_close>YES</manual_close>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <name>Webserver</name>
                    <type>DEPENDENT</type>
                    <key>data.server.webserver</key>
                    <delay>0</delay>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <applications>
                        <application>
                            <name>Nextcloud-V2</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <params>$['ocs'].data.server.webserver</params>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>nextcloud</key>
                    </master_item>
                    <triggers>
                        <trigger>
                            <expression>{diff()}=1</expression>
                            <name>Webserver Version changed</name>
                            <priority>INFO</priority>
                            <manual_close>YES</manual_close>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <name>Meta Message</name>
                    <type>DEPENDENT</type>
                    <key>meta.message</key>
                    <delay>0</delay>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <applications>
                        <application>
                            <name>Nextcloud-V2</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <params>$['ocs'].meta.message</params>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>nextcloud</key>
                    </master_item>
                    <triggers>
                        <trigger>
                            <expression>{diff()}=1</expression>
                            <name>Meta Message</name>
                            <priority>INFO</priority>
                            <manual_close>YES</manual_close>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <name>Meta Status</name>
                    <type>DEPENDENT</type>
                    <key>meta.status</key>
                    <delay>0</delay>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <applications>
                        <application>
                            <name>Nextcloud-V2</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <params>$['ocs'].meta.status</params>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>nextcloud</key>
                    </master_item>
                    <triggers>
                        <trigger>
                            <expression>{diff()}=1</expression>
                            <name>Meta Status</name>
                            <priority>INFO</priority>
                            <manual_close>YES</manual_close>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <name>Meta Statuscode</name>
                    <type>DEPENDENT</type>
                    <key>meta.statuscode</key>
                    <delay>0</delay>
                    <value_type>FLOAT</value_type>
                    <applications>
                        <application>
                            <name>Nextcloud-V2</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <params>$['ocs'].meta.statuscode</params>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>nextcloud</key>
                    </master_item>
                </item>
                <item>
                    <name>Nextcloud</name>
                    <key>nextcloud</key>
                    <delay>300</delay>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <applications>
                        <application>
                            <name>Nextcloud-V2</name>
                        </application>
                    </applications>
                </item>
                <item>
                    <name>Free Memory</name>
                    <type>DEPENDENT</type>
                    <key>nextcloud.mem_free</key>
                    <delay>0</delay>
                    <value_type>FLOAT</value_type>
                    <units>B</units>
                    <applications>
                        <application>
                            <name>Nextcloud-V2</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <params>$['ocs'].data.nextcloud.system.mem_free</params>
                        </step>
                        <step>
                            <type>MULTIPLIER</type>
                            <params>1024</params>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>nextcloud</key>
                    </master_item>
                    <triggers>
                        <trigger>
                            <expression>{min(5m)}&lt;1G</expression>
                            <name>Free Memory is lower 1 GBytes</name>
                            <priority>AVERAGE</priority>
                        </trigger>
                        <trigger>
                            <expression>{min(5m)}&lt;100M</expression>
                            <name>Free Memory is lower 100 MBytes</name>
                            <priority>DISASTER</priority>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <name>Total Memory</name>
                    <type>DEPENDENT</type>
                    <key>nextcloud.mem_total</key>
                    <delay>0</delay>
                    <value_type>FLOAT</value_type>
                    <units>B</units>
                    <applications>
                        <application>
                            <name>Nextcloud-V2</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <params>$['ocs'].data.nextcloud.system.mem_total</params>
                        </step>
                        <step>
                            <type>MULTIPLIER</type>
                            <params>1024</params>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>nextcloud</key>
                    </master_item>
                </item>
                <item>
                    <name>Number of Files</name>
                    <type>DEPENDENT</type>
                    <key>nextcloud.num_files</key>
                    <delay>0</delay>
                    <value_type>FLOAT</value_type>
                    <applications>
                        <application>
                            <name>Nextcloud-V2</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <params>$['ocs'].data.nextcloud.storage.num_files</params>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>nextcloud</key>
                    </master_item>
                </item>
                <item>
                    <name>Number of Shares</name>
                    <type>DEPENDENT</type>
                    <key>nextcloud.num_shares</key>
                    <delay>0</delay>
                    <value_type>FLOAT</value_type>
                    <applications>
                        <application>
                            <name>Nextcloud-V2</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <params>$['ocs'].data.nextcloud.shares.num_shares</params>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>nextcloud</key>
                    </master_item>
                </item>
                <item>
                    <name>Number of groups (SHARE)</name>
                    <type>DEPENDENT</type>
                    <key>nextcloud.num_shares_groups</key>
                    <delay>0</delay>
                    <value_type>FLOAT</value_type>
                    <applications>
                        <application>
                            <name>Nextcloud-V2</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <params>$['ocs'].data.nextcloud.shares.num_shares_groups</params>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>nextcloud</key>
                    </master_item>
                </item>
                <item>
                    <name>Shares via LINK</name>
                    <type>DEPENDENT</type>
                    <key>nextcloud.num_shares_link</key>
                    <delay>0</delay>
                    <value_type>FLOAT</value_type>
                    <applications>
                        <application>
                            <name>Nextcloud-V2</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <params>$['ocs'].data.nextcloud.shares.num_shares_link</params>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>nextcloud</key>
                    </master_item>
                </item>
                <item>
                    <name>Shares via LINK WITHOUT PASSWORD</name>
                    <type>DEPENDENT</type>
                    <key>nextcloud.num_shares_link_no_password</key>
                    <delay>0</delay>
                    <value_type>FLOAT</value_type>
                    <applications>
                        <application>
                            <name>Nextcloud-V2</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <params>$['ocs'].data.nextcloud.shares.num_shares_link_no_password</params>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>nextcloud</key>
                    </master_item>
                </item>
                <item>
                    <name>Number of Users (SHARE)</name>
                    <type>DEPENDENT</type>
                    <key>nextcloud.num_shares_user</key>
                    <delay>0</delay>
                    <value_type>FLOAT</value_type>
                    <applications>
                        <application>
                            <name>Nextcloud-V2</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <params>$['ocs'].data.nextcloud.shares.num_shares_user</params>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>nextcloud</key>
                    </master_item>
                </item>
                <item>
                    <name>Nextcloud Theme</name>
                    <type>DEPENDENT</type>
                    <key>nextcloud.theme</key>
                    <delay>0</delay>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <applications>
                        <application>
                            <name>Nextcloud-V2</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <params>$['ocs'].data.nextcloud.system.theme</params>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>nextcloud</key>
                    </master_item>
                </item>
                <item>
                    <name>Nextcloud Version</name>
                    <type>DEPENDENT</type>
                    <key>nextcloud.version</key>
                    <delay>0</delay>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <applications>
                        <application>
                            <name>Nextcloud-V2</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <params>$['ocs'].data.nextcloud.system.version</params>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>nextcloud</key>
                    </master_item>
                    <triggers>
                        <trigger>
                            <expression>{change()}=1</expression>
                            <name>Change of Nextcloud Version</name>
                            <priority>INFO</priority>
                            <manual_close>YES</manual_close>
                        </trigger>
                    </triggers>
                </item>
            </items>
        </template>
    </templates>
    <triggers>
        <trigger>
            <expression>{Nextcloud:data.server.webserver.nodata(1h)}=1 and {Nextcloud:data.nextcloud.system.cpuload.nodata(1h)}=1</expression>
            <name>Nextcloud JSON Error</name>
            <priority>WARNING</priority>
        </trigger>
    </triggers>
    <graphs>
        <graph>
            <name>Active Users</name>
            <graph_items>
                <graph_item>
                    <sortorder>1</sortorder>
                    <color>B2EBF2</color>
                    <item>
                        <host>Nextcloud</host>
                        <key>data.activeUsers.last1hours</key>
                    </item>
                </graph_item>
                <graph_item>
                    <sortorder>2</sortorder>
                    <color>4FC3F7</color>
                    <item>
                        <host>Nextcloud</host>
                        <key>data.activeUsers.last24hours</key>
                    </item>
                </graph_item>
                <graph_item>
                    <sortorder>3</sortorder>
                    <color>1976D2</color>
                    <item>
                        <host>Nextcloud</host>
                        <key>data.activeUsers.last5minutes</key>
                    </item>
                </graph_item>
            </graph_items>
        </graph>
        <graph>
            <name>Available APCu Memory</name>
            <graph_items>
                <graph_item>
                    <sortorder>1</sortorder>
                    <color>199C0D</color>
                    <item>
                        <host>Nextcloud</host>
                        <key>data.server.php.apcu.sma.avail_mem</key>
                    </item>
                </graph_item>
            </graph_items>
        </graph>
        <graph>
            <name>Database Size</name>
            <graph_items>
                <graph_item>
                    <sortorder>1</sortorder>
                    <color>199C0D</color>
                    <item>
                        <host>Nextcloud</host>
                        <key>data.server.database.size</key>
                    </item>
                </graph_item>
            </graph_items>
        </graph>
        <graph>
            <name>Free Disk Space</name>
            <graph_items>
                <graph_item>
                    <sortorder>1</sortorder>
                    <color>4CAF50</color>
                    <item>
                        <host>Nextcloud</host>
                        <key>data.nextcloud.system.freespace</key>
                    </item>
                </graph_item>
            </graph_items>
        </graph>
        <graph>
            <name>Free opcache Memory</name>
            <graph_items>
                <graph_item>
                    <sortorder>1</sortorder>
                    <color>199C0D</color>
                    <item>
                        <host>Nextcloud</host>
                        <key>data.server.php.opcache.memory_usage.free_memory</key>
                    </item>
                </graph_item>
            </graph_items>
        </graph>
        <graph>
            <name>Memory (RAM) Total/Used</name>
            <ymin_type_1>FIXED</ymin_type_1>
            <graph_items>
                <graph_item>
                    <sortorder>1</sortorder>
                    <drawtype>FILLED_REGION</drawtype>
                    <color>F57F17</color>
                    <item>
                        <host>Nextcloud</host>
                        <key>nextcloud.mem_free</key>
                    </item>
                </graph_item>
                <graph_item>
                    <sortorder>2</sortorder>
                    <color>FFAB91</color>
                    <item>
                        <host>Nextcloud</host>
                        <key>nextcloud.mem_total</key>
                    </item>
                </graph_item>
            </graph_items>
        </graph>
        <graph>
            <name>Memory (SWAP) Total/Used</name>
            <ymin_type_1>FIXED</ymin_type_1>
            <graph_items>
                <graph_item>
                    <sortorder>1</sortorder>
                    <drawtype>FILLED_REGION</drawtype>
                    <color>283593</color>
                    <item>
                        <host>Nextcloud</host>
                        <key>data.nextcloud.system.swap_free</key>
                    </item>
                </graph_item>
                <graph_item>
                    <sortorder>2</sortorder>
                    <color>BBDEFB</color>
                    <item>
                        <host>Nextcloud</host>
                        <key>data.nextcloud.system.swap_total</key>
                    </item>
                </graph_item>
            </graph_items>
        </graph>
        <graph>
            <name>Number of available Application Updates</name>
            <graph_items>
                <graph_item>
                    <sortorder>1</sortorder>
                    <color>199C0D</color>
                    <item>
                        <host>Nextcloud</host>
                        <key>data.nextcloud.system.apps.num_updates_available</key>
                    </item>
                </graph_item>
            </graph_items>
        </graph>
        <graph>
            <name>Number of Files</name>
            <graph_items>
                <graph_item>
                    <sortorder>1</sortorder>
                    <color>199C0D</color>
                    <item>
                        <host>Nextcloud</host>
                        <key>nextcloud.num_files</key>
                    </item>
                </graph_item>
            </graph_items>
        </graph>
        <graph>
            <name>Number of installed Applications</name>
            <graph_items>
                <graph_item>
                    <sortorder>1</sortorder>
                    <color>199C0D</color>
                    <item>
                        <host>Nextcloud</host>
                        <key>data.nextcloud.system.apps.num_installed</key>
                    </item>
                </graph_item>
            </graph_items>
        </graph>
    </graphs>
</zabbix_export>
